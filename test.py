import pytest
from draughts import Game

variants = ['standard', 'frisian', 'frysk', 'antidraughts', 'breakthrough', 'russian', 'brazilian']


def test_push_move():
    standard_1 = ['3228', '2024', '2822', '1827', '3122', '1728', '3322', '1520', '2217', '1221', '3430', '1015',
                  '3832', '1117', '3731', '0510', '3126', '0611', '3228', '1722', '281706', '1706', '1923', '301928',
                  '1928', '2024', '2617', '1621', '1726', '2430', '3524', '1520', '2415', '0812', '2621', '0208',
                  '4238', '1420', '1524', '1319', '24130211', '130211', '0211', '0107', '1102', '0308', '021905',
                  '1905', '0410', '05140317', '140317', '0317']

    frisian_1 = ['3430', '2025', '3934', '1924', '3019', '1820', '3126', '1319', '4439', '1924', '5044', '2429', '3324',
                 '2029', '3423', '1420', '2319', '0929', '3919', '2018', '4034', '0309', '4440', '1822', '4944', '0914',
                 '4339', '1420', '3731', '1014', '3833', '2024', '3430', '25344323', '344323', '4323', '3227', '1737',
                 '472718292009', '2718292009', '18292009', '292009', '2009', '0810', '3530', '1217', '4238', '0208',
                 '4035', '0813', '3832', '1319', '3227', '1737', '3142', '1014', '4238', '0510', '4439', '1520', '4843',
                 '2040', '3544', '1420', '4137', '1621', '2617', '072747', '2747', '4648', '1924', '3934', '1014',
                 '4339', '2025', '3933', '2430', '4439', '0409', '3832', '1419', '3227', '0913', '2722', '1117', '2211',
                 '0617', '3328', '1722', '2817', '1318', '1712', '1807', '3429', '3028', '3631', '0711', '3127', '2826',
                 '4540', '1924', '4843', '1117', '3933', '1722', '4339', '2430', '4020', '2514', '3934', '1420', '3429',
                 '2025', '2923', '2224', '3328', '2429', '2830']
    frisian_2 = ['3430', '2025', '3126', '2534', '4029', '1923', '4440', '2334', '3930', '1520', '3025', '1015', '3329',
                 '1823', '2918', '1719', '3227', '1217', '3833', '2024', '2523', '192839', '2839', '4334', '1420',
                 '2721', '1627', '2628', '2025', '2822', '1728', '3430', '2534', '402927', '2927', '1116', '3530',
                 '1520', '3010', '0514', '3731', '0711', '4238', '1420', '4137', '1319', '3732', '1924', '4842', '2025',
                 '4237', '0813', '2721', '1627', '3221', '1116', '3732', '1627', '3221', '1319', '4741', '1923', '4137',
                 '0308', '2116', '0626', '3616', '0106', '3126', '2328', '3818', '0828', '3731', '2430', '4641', '0913',
                 '4540', '1318', '4020', '2514', '4136', '1420', '4944', '2024', '4440', '0208', '4035', '2429', '3530',
                 '2934', '3039', '2833', '3928', '1838', '3127', '0409', '2721', '0812', '5044', '3842', '3631', '1218',
                 '1611', '0617', '211223', '1223', '4247', '2318', '4741', '1813']
    frisian_3 = ['3227', '1923', '2721', '1726', '3127', '2628', '332224', '2224', '2029', '391917', '1917', '1221',
                 '3430', '2126', '3025', '1318', '4339', '1822', '3832', '0712']

    brazilian_1 = ['2318', '1014', '2623', '0610', '3126', '1015']

    russian_1 = ['2218', '1015', '2622', '0710', '2319', '0307', '2723', '1014', '191003', '1003', '1417', '2114',
                 '0610', '140716', '0716', '12192617', '192617', '2617']
    russian_2 = ['2217', '1015', '1714', '0918', '2314', '1116', '2522', '0811', '2217', '0408', '2622', '1620', '3025',
                 '1216', '2723', '20271809', '271809', '1809', '3126', '1620', '3227', '0914', '171019', '1019', '1116',
                 '1912', '2024', '2819', '0509', '1916', '0710', '2724', '0207', '2419', '0913', '2623', '1015', '1910',
                 '0615', '2117', '0105', '2521', '0811', '2925', '1120', '1208', '0312', '2318', '0711', '1814', '1116',
                 '2218', '152229', '2229', '1410', '1322', '1006']

    antidraughts_2 = ['3530', '1924', '3019', '1423', '3329', '1319', '3126', '0813', '3833', '1722', '2924',
                      '20293827', '293827', '3827']

    print('Testing push_move')
    for variant in variants:
        print(f'Testing {variant}')
        sample = 1
        while True:
            try:
                moves = eval(f'{variant}_{sample}')
            except:
                break
            print(f'Now testing {variant}_{sample}')
            game = Game(variant)
            for move in moves:
                game.push_move(move)
            sample += 1


def test_hub_to_board():
    standard_1 = ['3430', '1822', '3025', '1721', '3126', '2227', '261721', '112217', '322127', '162721', '4034',
                  '0611', '4540', '1318', '5045', '0813', '3731', '1923', '3429', '233429', '402934', '1319', '4540',
                  '1923', '4034', '1419', '251420', '092014', '4137', '1014', '3530', '2025', '2924', '0510', '241319',
                  '180913', '4641', '1419', '3328', '223328', '38182333', '122318', '312227', '1014', '3024', '193024',
                  '4238', '1520', '3832', '2024', '3228', '233228', '372832', '1419', '4137', '0712', '4338', '1218',
                  '221318', '091813', '3631', '0107', '3833', '0712', '3127', '0409', '4842', '1823', '3732', '0913',
                  '4237', '1217', '4742', '3035', '3731', '0208', '3126', '0812', '4943', '0308', '4338', '1116',
                  '2722', '1621', '221117', '2530', '342530', '2127', '322127', '2334283839', '1106', '3440', '4439',
                  '4045', '4238', '4550', '0601', '1318', '3934', '502833', '3833', '28303334', '253430', '1923',
                  '3430', '2429', '0106', '352430', '0639', '2328']

    frysk_1 = ['4742', '0308', '5045', '0510', '4641', '0812', '4237', '1014', '4540', '0207', '3731', '0711', '4843',
               '1217', '4034', '1420', '4136', '1116', '3429', '0409', '3126', '0106', '4339', '0914', '4944', '1721',
               '261721', '161817', '4440', '2025', '3934', '1822', '4035', '254535', '2924', '1419', '241319', '4550',
               '1308', '5045', '3430', '4501', '3631', '014131', '0803']
    frysk_2 = ['4843', '0510', '4339', '0309', '3934', '0207', '3430', '1014', '5044', '0711', '4641', '1117', '4439',
               '0913', '4137', '1318', '3934', '1823', '3732', '2328', '322328', '1419', '231419', '0433143034', '4943',
               '3339', '433439', '1722', '3429', '0107', '2924', '2228', '2420', '2833', '2014', '3339', '1410', '3944',
               '1005', '4450', '4742', '0712', '4238', '5022', '0541', '2217', '3833', '173933', '4123', '1217', '2314',
               '1721', '1409', '3917', '0904', '1706', '0413', '2126', '1319', '2631', '1923', '0617', '2341', '3136',
               '4123', '1744', '2332', '4417', '3214', '1706', '1446', '3641']
    frysk_3 = ['4843', '0309', '4339', '0410', '4641', '0913', '4137', '0207', '4944', '0711', '4440', '1318', '3933',
               '1014', '4034', '1822', '5044', '0106', '3329', '1116', '3430', '1420', '301020', '051410', '2924',
               '143424', '442434', '2227', '371727', '161817', '2420', '1823', '2014', '2329', '1409', '2934', '0904',
               '3440', '0410', '4044', '4741', '4449', '4137', '4921', '1004', '2112', '3732', '124232', '0415', '4226',
               '1524', '2617', '2429', '0611', '2901', '1116', '0106', '1726']
    frysk_4 = ['4843', '0510', '4339', '0208', '3934', '0812', '3430', '1014', '5044', '1420', '301020', '041510',
               '4641', '1520', '4137', '1217', '4439', '0308', '3732', '1721', '3934', '0812', '3228', '1217', '2823',
               '0107', '3429', '2126', '2319', '201819', '2924', '2631', '2420', '3137', '472737', '173727', '2014',
               '3741', '1409', '1822', '0904', '2228', '0410', '4146', '10500728']
    frysk_5 = ['4843', '0510', '4339', '0207', '3934', '1014', '3430', '0309', '5044', '1419', '4641', '0712', '4137',
               '0914', '4439', '1420', '301020', '041510', '3934', '1924', '341424', '151314', '3732', '1319', '3227',
               '1218', '4742', '1924', '4238', '1823', '3833', '234333', '493843', '2430', '2722', '3034', '2218',
               '3440', '1813', '4044', '1309', '4449', '0904', '492138', '0409', '2126', '0925', '2637', '2530', '0106',
               '3013', '3726', '1324', '2603', '2429', '0611', '2901', '0321', '0106', '2117', '0601']
    frysk_6 = ['4843', '0107', '4338', '0410', '3832', '0711', '3227', '1014', '4641', '1419', '4136', '0510', '2721',
               '113121', '362731', '0308', '2721', '0812', '4742', '1217', '211217', '022212', '4237', '1924', '4943',
               '2228', '3731', '1014', '3126', '2832', '2621', '3237', '4338', '373938', '2117', '3943', '1712', '4348',
               '1208', '4831', '0802', '1419', '0207', '3122', '0740', '2206', '4035', '2430', '35021930']

    print('Testing hub_to_board')
    for variant in variants:
        print(f'Testing {variant}')
        sample = 1
        while True:
            try:
                moves = eval(f'{variant}_{sample}')
            except:
                break
            print(f'Now testing {variant}_{sample}')
            game = Game(variant)
            for move in moves:
                _, board_move = game.hub_to_li_board(move)
                for step in board_move:
                    game.move(step)
            sample += 1
